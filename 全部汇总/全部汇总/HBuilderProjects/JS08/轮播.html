<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>setInterval版的轮播图</title>
		<style type="text/css">
			.slide{
				width: 500px;
				height: 650px;
				overflow: hidden;
			}
			.con{
				position: relative;
				left: 0;
				width: 2500px;
				height: 100%;
			}
			.slide-item{
				float: left;
				width: 500px;
				height: 650px;
			}
			img{
				width: 500px;
				height: 100%;
			}
		</style>
	</head>
	<body>
		<!--显示区-->
		<div class="slide">
			<!--内容区-->
			<div class="con">
				<div class="slide-item"><img src="img/1.jpeg" alt="" /></div>
				<div class="slide-item"><img src="img/2.jpeg" alt="" /></div>
				<div class="slide-item"><img src="img/3.jpeg" alt="" /></div>
				<div class="slide-item"><img src="img/4.jpeg" alt="" /></div>
				<div class="slide-item"><img src="img/1.jpeg" alt="" /></div>
			</div>
		</div>
		<script type="text/javascript">
			/*setInterval 始终是匀速的*/
			var conDiv = document.getElementsByClassName('con')[0];
			var timer;
			var dx = 0;
			//延迟计时器
			setTimeout(function(){
				timer = setInterval(play, 10);
				console.log(timer);
			}, 2000);
			
			function play(){
				dx -= 50;
				//代表正好偏移完一整张
				if(dx % 500 == 0){
					clearInterval(timer);             //清除计时器,停止播放
					//延迟一定时间,重新开启计时器
					setTimeout(function(){
						timer = setInterval(play, 10);//保证开启的是同一个计时器
					}, 2000);
					console.log(timer);
				}
				
				if(dx == -2000){
					dx = 0;
				}
				
				conDiv.style.left = dx + 'px';
			}
		</script>
	</body>
</html>
